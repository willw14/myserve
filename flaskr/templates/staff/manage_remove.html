{% extends 'app_container.html' %}

{% block menu %}
{% include 'staff/menu.html'%}
{% endblock %}

{% block title %}Manage{% endblock %}
{% block breadcrumb %}Manage{% endblock %}

{% block content %}
<div class="row">
  <div class="col-sm mb-3">
    <a class="btn btn-outline-success" href='{{url_for("staff.manage_add")}}'>Add Users</a>
    <a class="btn btn-success" href='{{url_for("staff.manage_remove")}}'>Remove Users</a>
  </div>
  <div class="col-sm text-md-end">
    <!-- code for bulk delete goes here-->
  </div>
</div>

<table id="users" class="table table-striped" style="width:100%">
  <thead>
      <tr>
          <th>ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Form Class</th>
          <th>Role</th>
          <th></th>
      </tr>
  </thead>
  <tbody>
  {% for user in users %}
  
      <tr>
          <td><p>{{user.id}}</p></td>
          <td><p>{{user.first_name}}</p></td>
          <td><p>{{user.last_name}}</p></td>
          <td><p>{{user.form_class}}</p></td>
          <td><p>{{user.role.name}}</p></td>
          <td>
            <a class="btn btn-outline-danger" href="{{url_for('staff.manage_remove_user', id=user.id)}}">Delete</a>
          </td>
      </tr>
  {% endfor %}
  </tbody>
</table>

<script>
  $(document).ready(function() {
  $('#users').DataTable();
} );
</script>

{% endblock %}