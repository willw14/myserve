{% extends 'app_container.html' %}

{% block menu %}{% include 'student/menu.html'%}{% endblock %}
{% block title %}Log{% endblock %}
{% block breadcrumb %}Log{% endblock %}

{% block content %}
<h4>Total Hours: {{'%0.2f' | format(user.total)}}</h4>
<table id="log" class="table table-striped" style="width:100%">
    <thead>
        <tr>
            <th>Date Completed</th>
            <th>Description</th>
            <th>Group</th>
            <th>Hours</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    {% for item in user.hours %}
    
        <tr>
            <td>{{item.date}}</td>
            <td>{{item.description}}</td>
            {% if item.group == None %}
            <td>Other</td>
            {% else %}
            <td><a href='{{url_for("student.group_detail", id=item.group.id)}}'>{{item.group.name}}</a></td>
            {% endif %}
            <td>{{'%0.2f' | format(item.time)}}</td>
            {% if item.status_id == 1 %}
            <td><a href='{{url_for("student.edit_hours", id=item.id)}}'><i class="bi-pencil-fill"></i></a></td>
            {% else %}
            <td><i class="bi-lock-fill" data-bs-toggle="tooltip" data-bs-html="true" title="This item has been edited by a staff member. If you believe an error has been made, get in touch with your teacher-in-charge."></i></td>
            {% endif %}
        </tr>
    {% endfor %}
    </tbody>
</table>

<script>
    $(document).ready(function() {
    $('#log').DataTable();
} );

var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})
</script>

{% endblock %}
